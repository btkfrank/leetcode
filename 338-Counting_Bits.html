<html>
<script>
/**
 * @param {number} num
 * @return {number[]}
 */
var countBits = function(num) {
    let count = function(number, c){
        if(number === 0){
            return c;
        }else if(number === 1){
            return c+1;
        }else{
            if(typeof counts[number >> 1] !== 'undefined'){
                return counts[number >> 1] + number % 2;
            }else{
                return count(number >> 1, c + number % 2);
            }
        }                    
    }    
    
    let counts = [];
    for(let i = 0; i <= num; i++){
        counts[i] = count(i, 0);        
    }
        
    return counts;
};
console.info(countBits(2));
</script>
</html>